<Panel::Card>
  <div class="builder-form">
    <div class="field">
      <label class="field-label" for="jobPost">Job Post</label>
      <input
        type="text"
        id="jobPost"
        value={{@jobApplication.jobPost.title}}
        disabled="true"
      />
    </div>

    <div class="field">
      <PowerSelect
        @options={{this.resumes}}
        @onChange={{this.updateResume}}
        @searchEnabled={{true}}
        @searchField="name"
        @selected={{@jobApplication.resume}}
        @placeholder="Select a Resume"
        @labelText="Resume"
        as |resume|
      >
        {{resume.name}}
      </PowerSelect>
    </div>

    <div class="field">
      <PowerSelect
        @options={{this.coverLetters}}
        @onChange={{this.updateCoverLetter}}
        @searchEnabled={{true}}
        @searchField="jobPost.title"
        @selected={{@jobApplication.coverLetter}}
        @placeholder="Select a Cover Letter"
        @labelText="Cover Letter"
        as |coverLetter|
      >
        cover letter for
        {{coverLetter.jobPost.title}}
        -
        {{format-date coverLetter.createdAt}}
      </PowerSelect>
    </div>

    <div class="field">
      <label class="field-label" for={{this.appliedAtInputId}}>Applied At</label>
      <input
        type="date"
        id={{this.appliedAtInputId}}
        value={{format-date @jobApplication.appliedAt}}
        {{on "change" (fn this.updateField "appliedAt")}}
      />
    </div>

    <div class="field">
      <label class="field-label" for={{this.statusSelectId}}>Status</label>
      <select
        id={{this.statusSelectId}}
        {{on "change" (fn this.updateField "status")}}
      >
        <option value="">{{@jobApplication.status}}</option>
        {{#each this.statusOptions as |status|}}
          <option value={{status}}>
            {{status}}
          </option>
        {{/each}}
      </select>
    </div>

    <div class="field">
      <label class="field-label" for={{this.trackingUrlInputId}}>Tracking URL</label>
      <input
        type="url"
        id={{this.trackingUrlInputId}}
        value={{@jobApplication.trackingUrl}}
        {{on "input" (fn this.updateField "trackingUrl")}}
      />
    </div>

    <div class="field">
      <label class="field-label" for={{this.notesTextareaId}}>Notes</label>

      <textarea
        id={{this.notesTextareaId}}
        value={{@jobApplication.notes}}
        {{on "input" (fn this.updateField "notes")}}
      ></textarea>
    </div>

    <div class="form-actions">
      {{yield}}
      <button
        type="button"
        class="btn"
        {{on "click" this.saveApplication}}
      >Save</button>
    </div>
  </div>
</Panel::Card>