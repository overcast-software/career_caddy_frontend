  {{#if this.errorMessage}}
    <p class="error">{{this.errorMessage}}</p>
  {{/if}}

  <div class="field">
    <label class="field-label" for="create-mode">Create</label>
    <select
      id="create-mode"
      value={{if this.form_toggle "manual" "by-url"}}
      {{on "change" this.onModeChange}}
    >
      <option value="by-url">by url</option>
      <option value="manual">manual</option>
    </select>
  </div>

  {{#if this.form_toggle  }}
    <form class="builder-form" {{on "submit" this.submitManual}}>
      <div class="field">
        <label class="field-label" for="company-autocomplete">Company</label>
        <input
          id="company-autocomplete"
          type="text"
          list="company-suggestions"
          placeholder="Start typing a company nameâ€¦"
          {{on "input" this.updateCompanyQuery}}
          required
        />
        <datalist id="company-suggestions">
          {{#each this.companies as |company|}}
            <option value="{{if company.displayName company.displayName company.name}}"></option>
          {{/each}}
        </datalist>
      </div>

      <div class="field">
        <label class="field-label" for="title">Title</label>
        <input
          id="title"
          type="text"
          value={{@jobPost.title}}
          {{on "input" (fn this.updateField "title")}}
          required
        />
      </div>
      <div class="field">
        <label class="field-label" for="description">Description</label>
        <textarea
          id="description"
          value={{@jobPost.description}}
          {{on "input" (fn this.updateField "description")}}
          rows="8"
        ></textarea>
      </div>

      <div class="field">
        <label class="field-label" for="title">url</label>
        <input
          id="title"
          type="text"
          value={{@jobPost.title}}
          {{on "input" (fn this.updateField "link")}}
          required
        />
      </div>

      <div class="form-actions">
        <button type="submit" class="btn primary">Create Job Post</button>
      </div>
    </form>
  {{else}}
    <form class="builder-form" {{on "submit" this.submitScrape}}>
      <div class="field">
        <label class="field-label" for="url">Url</label>
        <input
          id="url"
          type="text"
          {{on "change" this.updateUrl}}
          required
        />
      </div>
      <div class="form-actions">
        <button type="submit" class="btn primary">Scrape the page</button>
      </div>
    </form>
  {{/if}}
